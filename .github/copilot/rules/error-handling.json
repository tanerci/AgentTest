{
  "version": "1.1",
  "errorHandlingRules": [
    {
      "id": "ERR001",
      "name": "UseResultPattern",
      "description": "Prefer Result<T> for expected failures instead of throwing exceptions.",
      "severity": "critical",
      "recommendation": "Return Result<T> with Success/Failure instead of try-catch for domain logic."
    },
    {
      "id": "ERR002",
      "name": "NoEmptyCatchBlocks",
      "description": "Catch blocks must not be empty or only contain comments.",
      "severity": "error"
    },
    {
      "id": "ERR003",
      "name": "AvoidGenericExceptions",
      "description": "Catch specific exceptions only in global handler or infrastructure boundaries.",
      "severity": "warning"
    },
    {
      "id": "ERR004",
      "name": "GlobalExceptionHandlerOnly",
      "description": "Unhandled exceptions should be caught only by global middleware.",
      "severity": "critical",
      "recommendation": "Do not wrap every method in try-catch; rely on middleware."
    },
    {
      "id": "ERR005",
      "name": "ReturnProblemDetails",
      "description": "Use RFC 7807 ProblemDetails for error responses.",
      "severity": "error"
    },
    {
      "id": "ERR006",
      "name": "ProperHttpStatusCodes",
      "description": "Map Result failures and exceptions to appropriate HTTP status codes.",
      "severity": "error",
      "statusCodes": {
        "400": "Bad Request - Validation failed",
        "401": "Unauthorized",
        "403": "Forbidden",
        "404": "Not Found",
        "409": "Conflict",
        "422": "Unprocessable Entity",
        "500": "Internal Server Error"
      }
    },
    {
      "id": "ERR007",
      "name": "NoSensitiveDataInErrors",
      "description": "Never expose sensitive data in error responses.",
      "severity": "critical"
    }
  ],
  "globalExceptionHandler": {
    "required": true,
    "features": {
      "logAllExceptions": true,
      "useProblemDetails": true,
      "includeTraceId": true,
      "environmentAware": true
    }
  },
  "bestPractices": [
    "Use Result<T> for domain and validation errors.",
    "Reserve exceptions for truly exceptional cases.",
    "Let unhandled exceptions bubble to global middleware.",
    "Log all exceptions centrally with context.",
    "Return consistent ProblemDetails responses.",
    "Map Result failures to appropriate HTTP status codes."
  ]
}
